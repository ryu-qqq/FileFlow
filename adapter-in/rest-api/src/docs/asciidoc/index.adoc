= FileFlow REST API 문서
:doctype: book
:icons: font
:source-highlighter: highlightjs
:toc: left
:toclevels: 3
:sectlinks:

[[overview]]
== 개요

FileFlow는 파일 업로드, 다운로드, 관리를 위한 REST API를 제공합니다.

[[overview-http-verbs]]
=== HTTP 동사

본 REST API에서 사용하는 HTTP 동사(verbs)는 가능한 한 표준 HTTP와 REST 규약을 따릅니다.

|===
| 동사 | 용례

| `GET`
| 리소스를 가져올 때 사용

| `POST`
| 새 리소스를 만들거나 명령을 실행할 때 사용

| `PATCH`
| 기존 리소스를 수정할 때 사용

| `DELETE`
| 기존 리소스를 삭제할 때 사용
|===

[[overview-http-status-codes]]
=== HTTP 상태 코드

본 REST API에서 사용하는 HTTP 상태 코드는 가능한 한 표준 HTTP와 REST 규약을 따릅니다.

|===
| 상태 코드 | 용례

| `200 OK`
| 요청을 성공적으로 처리함

| `201 Created`
| 새 리소스를 성공적으로 생성함

| `400 Bad Request`
| 잘못된 요청을 보낸 경우

| `401 Unauthorized`
| 인증되지 않은 요청

| `403 Forbidden`
| 권한이 없는 요청

| `404 Not Found`
| 요청한 리소스가 없음

| `500 Internal Server Error`
| 서버 내부 오류
|===

[[file-asset]]
== 파일 자산 (File Asset)

파일 자산 관리를 위한 API입니다.

[[file-asset-command]]
=== Command API

[[file-asset-delete]]
==== 파일 자산 삭제

파일 자산을 논리적으로 삭제합니다. S3 객체는 유지됩니다.

operation::file-asset-delete[snippets='path-parameters,request-fields,response-fields,curl-request,http-response']

[[file-asset-generate-download-url]]
==== Download URL 생성

파일 다운로드를 위한 Presigned URL을 생성합니다.

operation::file-asset-generate-download-url[snippets='path-parameters,request-fields,response-fields,curl-request,http-response']

[[file-asset-batch-download-url]]
==== 일괄 Download URL 생성

여러 파일에 대한 다운로드 URL을 일괄 생성합니다. 최대 100개까지 요청 가능합니다.

operation::file-asset-batch-download-url[snippets='request-fields,response-fields,curl-request,http-response']

[[file-asset-query]]
=== Query API

[[file-asset-get]]
==== 파일 자산 단건 조회

파일 자산의 상세 정보를 조회합니다.

operation::file-asset-get[snippets='path-parameters,response-fields,curl-request,http-response']

[[file-asset-list]]
==== 파일 자산 목록 조회

파일 자산 목록을 조회합니다. 상태로 필터링할 수 있습니다.

operation::file-asset-list[snippets='query-parameters,response-fields,curl-request,http-response']

[[external-download]]
== 외부 다운로드 (External Download)

외부 URL에서 파일을 다운로드하여 S3에 업로드하는 API입니다.

[[external-download-request]]
=== 외부 다운로드 요청

외부 URL에서 이미지를 다운로드하여 S3에 업로드하는 비동기 요청을 생성합니다.

operation::external-download-request[snippets='request-fields,response-fields,curl-request,http-response']

[[external-download-get]]
=== 외부 다운로드 상태 조회

외부 다운로드 요청의 현재 상태를 조회합니다.

operation::external-download-get[snippets='path-parameters,response-fields,curl-request,http-response']

[[upload-session]]
== 업로드 세션 (Upload Session)

파일 업로드 세션 관리를 위한 API입니다.

[[upload-session-command]]
=== Command API

[[upload-session-init-single]]
==== 단일 업로드 세션 초기화

단일 파일 업로드를 위한 세션을 초기화하고 Presigned URL을 생성합니다.

operation::upload-session-init-single[snippets='request-fields,response-fields,curl-request,http-response']

[[upload-session-init-multipart]]
==== Multipart 업로드 세션 초기화

대용량 파일의 Multipart 업로드를 위한 세션을 초기화하고 Part별 Presigned URL을 생성합니다.

operation::upload-session-init-multipart[snippets='request-fields,response-fields,curl-request,http-response']

[[upload-session-complete-single]]
==== 단일 업로드 완료

단일 파일 업로드를 완료하고 파일 자산을 생성합니다.

operation::upload-session-complete-single[snippets='path-parameters,request-fields,response-fields,curl-request,http-response']

[[upload-session-complete-multipart]]
==== Multipart 업로드 완료

Multipart 업로드를 완료하고 파일 자산을 생성합니다.

operation::upload-session-complete-multipart[snippets='path-parameters,response-fields,curl-request,http-response']

[[upload-session-mark-part]]
==== Part 업로드 완료 표시

Multipart 업로드에서 특정 Part의 업로드가 완료되었음을 표시합니다.

operation::upload-session-mark-part[snippets='path-parameters,request-fields,response-fields,curl-request,http-response']

[[upload-session-cancel]]
==== 업로드 세션 취소

진행 중인 업로드 세션을 취소합니다.

operation::upload-session-cancel[snippets='path-parameters,response-fields,curl-request,http-response']

[[upload-session-query]]
=== Query API

[[upload-session-get]]
==== 업로드 세션 상세 조회 (단일)

단일 업로드 세션의 상세 정보를 조회합니다.

operation::upload-session-get[snippets='path-parameters,response-fields,curl-request,http-response']

[[upload-session-get-multipart]]
==== 업로드 세션 상세 조회 (Multipart)

Multipart 업로드 세션의 상세 정보를 조회합니다. Part 정보를 포함합니다.

operation::upload-session-get-multipart[snippets='path-parameters,response-fields,curl-request,http-response']

[[upload-session-list]]
==== 업로드 세션 목록 조회

업로드 세션 목록을 조회합니다. 상태 및 업로드 타입으로 필터링할 수 있습니다.

operation::upload-session-list[snippets='query-parameters,response-fields,curl-request,http-response']
