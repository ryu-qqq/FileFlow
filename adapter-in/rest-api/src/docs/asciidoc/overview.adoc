[[overview]]
== 개요

FileFlow는 파일 업로드, 다운로드, 관리를 위한 REST API를 제공합니다.

[[overview-http-verbs]]
=== HTTP 동사

본 REST API에서 사용하는 HTTP 동사(verbs)는 가능한 한 표준 HTTP와 REST 규약을 따릅니다.

|===
| 동사 | 용례

| `GET`
| 리소스를 가져올 때 사용

| `POST`
| 새 리소스를 만들거나 명령을 실행할 때 사용

| `PATCH`
| 기존 리소스를 수정할 때 사용

| `DELETE`
| 기존 리소스를 삭제할 때 사용
|===

[[overview-http-status-codes]]
=== HTTP 상태 코드

본 REST API에서 사용하는 HTTP 상태 코드는 가능한 한 표준 HTTP와 REST 규약을 따릅니다.

|===
| 상태 코드 | 용례

| `200 OK`
| 요청을 성공적으로 처리함

| `201 Created`
| 새 리소스를 성공적으로 생성함

| `400 Bad Request`
| 잘못된 요청을 보낸 경우

| `401 Unauthorized`
| 인증되지 않은 요청

| `403 Forbidden`
| 권한이 없는 요청

| `404 Not Found`
| 요청한 리소스가 없음

| `500 Internal Server Error`
| 서버 내부 오류
|===

[[overview-response-format]]
=== 응답 형식

==== 성공 응답

모든 성공 응답은 다음 형식을 따릅니다:

[source,json]
----
{
  "success": true,
  "data": { ... },
  "timestamp": "2025-01-15T10:30:00",
  "requestId": "req-1234567890"
}
----

|===
| 필드 | 타입 | 설명

| `success`
| Boolean
| 요청 성공 여부 (항상 `true`)

| `data`
| Object
| 응답 데이터 (API에 따라 다름)

| `timestamp`
| String
| 응답 생성 시각 (ISO 8601)

| `requestId`
| String
| 요청 추적 ID
|===

==== 에러 응답

에러 응답은 RFC 7807 (Problem Details for HTTP APIs) 형식을 따릅니다:

[source,json]
----
{
  "type": "about:blank",
  "title": "Bad Request",
  "status": 400,
  "detail": "Validation failed for request",
  "instance": "/api/v1/file/upload-sessions",
  "timestamp": "2025-01-15T01:30:00.000Z",
  "code": "VALIDATION_FAILED",
  "errors": {
    "fileName": "파일명은 필수입니다",
    "fileSize": "파일 크기는 0보다 커야 합니다"
  }
}
----

|===
| 필드 | 타입 | 설명

| `type`
| String
| 에러 유형을 식별하는 URI

| `title`
| String
| 에러 유형의 간단한 제목

| `status`
| Number
| HTTP 상태 코드

| `detail`
| String
| 에러에 대한 상세 설명

| `instance`
| String
| 에러가 발생한 요청 경로

| `timestamp`
| String
| 에러 발생 시각 (ISO 8601)

| `code`
| String
| 에러 코드 (클라이언트 분기 처리용)

| `errors`
| Object
| 필드별 유효성 검사 오류 (Validation 에러 시에만 포함)
|===

===== 에러 코드 목록

|===
| 에러 코드 | HTTP 상태 | 설명

| `VALIDATION_FAILED`
| 400
| 요청 데이터 유효성 검사 실패

| `INVALID_ARGUMENT`
| 400
| 잘못된 인자

| `INVALID_REQUEST_BODY`
| 400
| 요청 본문 파싱 실패 (JSON 형식 오류 등)

| `TYPE_MISMATCH`
| 400
| 파라미터 타입 불일치

| `MISSING_PARAMETER`
| 400
| 필수 파라미터 누락

| `RESOURCE_NOT_FOUND`
| 404
| 요청한 리소스 없음

| `METHOD_NOT_ALLOWED`
| 405
| 지원하지 않는 HTTP 메서드

| `STATE_CONFLICT`
| 409
| 상태 충돌

| `INTERNAL_ERROR`
| 500
| 서버 내부 오류

| _(도메인별 코드)_
| _다양_
| DomainException에서 정의된 비즈니스 에러 코드
|===
