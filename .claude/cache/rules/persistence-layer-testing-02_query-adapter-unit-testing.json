{
  "id": "persistence-layer-testing-02_query-adapter-unit-testing",
  "sourceFile": "/Users/sangwon-ryu/fileflow/docs/coding_convention/04-persistence-layer/testing/02_query-adapter-unit-testing.md",
  "metadata": {
    "keywords": {
      "primary": [
        "query",
        "adapter",
        "unit",
        "testing"
      ],
      "secondary": [
        "query",
        "adapter",
        "unit",
        "testing"
      ],
      "anti": []
    },
    "layer": "adapter-persistence",
    "priority": "critical",
    "tokenEstimate": 1519
  },
  "rules": {
    "prohibited": [
      "❌ Command 테스트 금지 (Command Adapter 테스트로 분리)",
      "❌ JpaRepository 사용 금지 (JPAQueryFactory만 사용)"
    ],
    "allowed": [
      "✅ `@DataJpaTest` (JPA 슬라이스 테스트)",
      "✅ H2 In-Memory DB 사용",
      "✅ `@Tag(\"unit\")`, `@Tag(\"query\")` 필수",
      "✅ DTO 직접 검증 (Domain Model 아님)"
    ]
  },
  "documentation": {
    "path": "docs/coding_convention/04-persistence-layer/testing/02_query-adapter-unit-testing.md",
    "summary": "Auto-generated from 02_query-adapter-unit-testing.md"
  }
}