# ===============================================
# FileFlow Download Worker Bootstrap Configuration
# ===============================================

spring:
  application:
    name: fileflow-download-worker

  profiles:
    active: ${SPRING_PROFILES_ACTIVE:prod}

  # Disable web server (SQS listener only, no Tomcat needed)
  main:
    web-application-type: none

  # Exclude Redisson auto-configuration (use custom RedissonConfig)
  autoconfigure:
    exclude:
      - org.redisson.spring.starter.RedissonAutoConfigurationV2

  config:
    import:
      - classpath:persistence.yml
      - classpath:redis.yml
      - classpath:s3.yml
      - classpath:sqs-listener.yml

# Enable Redisson for Redis operations
redisson:
  enabled: ${REDISSON_ENABLED:true}

# ===============================================
# Worker Configuration
# ===============================================
worker:
  download:
    enabled: ${WORKER_DOWNLOAD_ENABLED:true}

logging:
  level:
    root: INFO
    com.ryuqq.fileflow: ${LOG_LEVEL:DEBUG}
    io.awspring.cloud.sqs: ${SQS_LOG_LEVEL:INFO}
