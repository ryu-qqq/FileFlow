# ========================================
# Persistence Redis Module Configuration
# ========================================
# Purpose: Redis 캐시 어댑터 설정
# - Spring Data Redis 설정
# - Lettuce Connection Pool 설정
# - Cache 로깅 설정
# ========================================

spring:
  # ========================================
  # Redis Configuration
  # ========================================
  data:
    redis:
      # Redis 서버 연결 정보
      host: ${REDIS_HOST:localhost}
      port: ${REDIS_PORT:6379}
      password: ${REDIS_PASSWORD:}

      # 연결 타임아웃 (밀리초)
      timeout: 3000ms

      # Lettuce (Redis 클라이언트) 설정
      lettuce:
        pool:
          # 최대 활성 연결 수
          max-active: 8

          # 최대 유휴 연결 수
          max-idle: 8

          # 최소 유휴 연결 수
          min-idle: 2

          # 연결 대기 최대 시간 (-1: 무제한)
          max-wait: -1ms

# ========================================
# Logging Configuration
# ========================================
logging:
  level:
    # Spring Data Redis 로깅
    org.springframework.data.redis: DEBUG

    # Application 로깅
    com.ryuqq.fileflow.adapter.out.persistence.redis: DEBUG
