# 🗺️ 프로젝트 로드맵 및 남은 작업

## ✅ 완료된 작업

### Epic 1: 테넌트 정책 관리 시스템 (진행 중)

**상태**: Jira 티켓 생성 완료 (KAN-1 ~ KAN-9)

**구현 내용**:

- 정책 기반 파일 업로드 제어
- HTTP 헤더 기반 정책 매칭
- 정책 CRUD API
- MySQL + Redis 저장소
- Hexagonal Architecture 적용

**제공하는 것**:

- 정책 정의 및 저장
- 정책 조회 및 캐싱
- 정책 버전 관리
- 정책 변경 이력

**제공하지 않는 것**:

- ❌ 실제 파일 업로드 기능
- ❌ S3 연동
- ❌ 파일 후처리
- ❌ 업로드 히스토리

---

## 📋 남은 작업 (Epic 2~6)

### Epic 2: 파일 업로드 & 저장 ⭐ (우선순위 1)

**목표**: 실제 파일 업로드 기능 구현

**상태**: ⏳ 대기 중

**Jira Epic**: [KAN-10](https://ryuqqq.atlassian.net/browse/KAN-10)

**예상 시간**: 78시간 (약 10일)

**완성도**: ✅ 문서화 완료, Jira 티켓 생성 완료

**주요 기능**:

1. Presigned URL 발급 API
    - Epic 1 정책 검증
    - S3 Presigned URL 생성
    - 업로드 세션 생성
2. S3 Direct Upload
    - 클라이언트 → S3 직접 업로드
    - S3 Event 처리
3. 파일 메타데이터 관리
    - upload_session 테이블
    - file_asset 테이블
    - file_metadata 테이블
    - file_relationship 테이블
4. 업로드 상태 추적
    - 업로드 진행률
    - 성공/실패 처리
    - 재시도 로직
5. 에러 처리 및 모니터링
    - 13가지 에러 코드 정의
    - CloudWatch 알람
    - Slack 알림

**생성된 Jira Task (18개)**:

- Phase 1: KAN-64~67 (기본 구조, 19h)
- Phase 2: KAN-68~71 (데이터베이스, 12h)
- Phase 3: KAN-72~74 (S3 이벤트, 15h)
- Phase 4: KAN-75~77 (상태 관리, 13h)
- Phase 5: KAN-78~79 (에러 처리, 10h)
- Phase 6: KAN-80~81 (품질 보증, 9h)

**상세 문서**: [Epic 2: 파일 업로드 & 저장](Epic%202%20%ED%8C%8C%EC%9D%BC%20%EC%97%85%EB%A1%9C%EB%93%9C%20&%20%EC%A0%80%EC%9E%A5%20282b00296f3b802f8f94fb26c2afeeb6.md)

---

### Epic 3: 이미지 처리 파이프라인 ⭐ (우선순위 2)

**목표**: 이미지 최적화 및 메타데이터 추출 자동화

**상태**: ⏳ 대기 중

**Jira Epic**: [KAN-27](https://ryuqqq.atlassian.net/browse/KAN-27)

**예상 시간**: 104시간 (약 13일)

**완성도**: ✅ 문서화 완료, 일부 Jira 티켓 생성 완료

**주요 기능**:

1. 이미지 최적화
    - WebP 변환
    - 압축 (품질 90%)
    - EXIF 메타데이터 처리
2. 썸네일 생성
    - Small: 300x300
    - Medium: 800x800
    - Lanczos3 리샘플링
3. OCR (AWS Textract)
    - 이미지 내 텍스트 추출
    - 상품 정보 파싱 (재질, 원산지, 세탁방법, 사이즈)
4. CDN 배포
    - CloudFront 자동 배포
    - 캐시 무효화
5. 후처리 작업 관리
    - processing_job 테이블
    - 파이프라인 실행 및 추적
    - 재시도 로직
6. 에러 처리 및 모니터링
    - 17가지 에러 코드 정의
    - CloudWatch 알람
    - Slack 알림

**생성된 Jira Task (25개)**:

- Phase 1: KAN-28~31 (이미지 최적화, 16h)
- Phase 2: KAN-32~35 (썸네일, 13h)
- Phase 3: KAN-36~39 (OCR, 18h)
- Phase 4: KAN-40~42 (CDN, 10h)
- Phase 5: KAN-43~46 (파이프라인, 16h)
- Phase 6: KAN-47~48 (비동기 인프라, 9h)
- Phase 7: KAN-49~50 (품질 보증, 11h)
- Phase 8: KAN-82~83 (에러 처리, 11h)

**상세 문서**: [Epic 3: 이미지 처리 파이프라인](Epic%203%20%EC%9D%B4%EB%AF%B8%EC%A7%80%20%EC%B2%98%EB%A6%AC%20%ED%8C%8C%EC%9D%B4%ED%94%84%EB%9D%BC%EC%9D%B8%20282b00296f3b80ca8807fadfe2653f2e.md)

**기술 스택**:

- Thumbnailator / ImageMagick
- AWS Textract
- CloudFront
- SQS/SNS (비동기 파이프라인)

---

### Epic 4: HTML 처리 파이프라인 (우선순위 3)

**목표**: 상품 상세 HTML 자동 처리

**주요 기능**:

1. HTML 파싱
    - 이미지 추출
    - 외부 이미지 다운로드 (크롤링용)
2. 이미지 최적화
    - Epic 3 이미지 파이프라인 재사용
3. 텍스트 추출 및 정제
    - 상품 설명 텍스트 추출
4. HTML 재생성
    - 이미지 URL을 S3 URL로 교체
    - 최적화된 HTML 생성
5. CDN 배포

**예상 시간**: 40시간 (1주)

---

### Epic 5: Excel/PDF 처리 & AI 표준화 (우선순위 4)

**목표**: 비정형 바이어 라인시트 표준화

**주요 기능**:

1. Excel/PDF 파싱
    - SheetJS / Apache POI
    - 파일 구조 분석
2. AI 기반 표준화
    - OpenAI API / AWS Bedrock
    - 비표준 → 표준 데이터 매핑
    - 표준화 결과 검증
3. 수동 매핑 인터페이스
    - AI 실패 시 수동 처리
    - Slack 알림 (#order-processing)
4. 표준화 결과 생성
    - 표준 Excel 생성

**예상 시간**: 80시간 (2주)

**기술 스택**:

- SheetJS / Apache POI
- OpenAI API / AWS Bedrock
- Slack Webhook

---

### Epic 6: 인프라 & 모니터링 (우선순위 5)

**목표**: 안정적인 운영 환경 구축

**주요 기능**:

1. ECS 기반 배포
    - Docker 이미지 빌드
    - ECS Task Definition
    - Auto Scaling
2. 로깅 시스템
    - CloudWatch Logs
    - 구조화된 로깅 (JSON)
3. 메트릭 수집
    - CloudWatch Metrics
    - Custom Metrics
    - 대시보드
4. 알림 설정
    - Slack 연동
    - 에러 알림
    - 임계치 알림
5. 성능 모니터링
    - APM (Application Performance Monitoring)
    - 병목 지점 파악

**예상 시간**: 40시간 (1주)

**기술 스택**:

- AWS ECS
- CloudWatch
- Slack Webhook

---

## 📊 전체 프로젝트 타임라인

| Epic | 제목 | 예상 시간 | 우선순위 | 상태 |
| --- | --- | --- | --- | --- |
| Epic 1 | 테넌트 정책 관리 | 56h (1.5주) | P0 | ✅ Jira 생성 완료 |
| Epic 2 | 파일 업로드 & 저장 | 78h (10일) | P1 | ✅ Jira 생성 완료 (18개 Task) |
| Epic 3 | 이미지 처리 파이프라인 | 104h (13일) | P2 | ✅ Jira 생성 완료 (25개 Task) |
| Epic 4 | HTML 처리 파이프라인 | 40h (1주) | P3 | ⏳ 대기 |
| Epic 5 | Excel/PDF AI 표준화 | 80h (2주) | P4 | ⏳ 대기 |
| Epic 6 | 인프라 & 모니터링 | 40h (1주) | P5 | ⏳ 대기 |

**총 예상 시간**: 398시간 (약 10주 = 2.5개월)

---

## 🎯 다음 단계

### 즉시 진행 가능

1. **Epic 1 구현 시작** (KAN-2부터)
    - Domain 모델 구현
    - Port & UseCase 구현
    - Adapter 구현

### Epic 1 완료 후

1. **Epic 2 설계 및 Jira 티켓 생성**
    - Task 분해
    - Notion 문서 작성
    - Jira Story 생성
2. **Epic 3~6 순차 진행**
    - Epic 2 완료 후 Epic 3
    - 우선순위에 따라 조정 가능

---

## 🔗 관련 링크

- **Jira Board**: [https://ryuqqq.atlassian.net/jira/software/projects/KAN/board](https://ryuqqq.atlassian.net/jira/software/projects/KAN/board)
- **GitHub**: [https://github.com/ryu-qqq/FileFlow](https://github.com/ryu-qqq/FileFlow)
- **Epic 1 상세**: Epic 1: 테넌트 정책 관리 시스템
- **상위 프로젝트**: 🏗️ Setof 고도화 프로젝트

---

## 💡 참고사항

### Epic 간 의존성

- Epic 2는 Epic 1 완료 필요 (정책 검증 로직 사용)
- Epic 3, 4, 5는 Epic 2 완료 필요 (파일 업로드 기반)
- Epic 6은 독립적으로 진행 가능

### 유연한 조정

- Epic 3 (이미지 처리)가 가장 중요하다면 Epic 2 완료 직후 우선 진행
- Epic 5 (AI 표준화)는 복잡도가 높아 별도 POC 선행 권장

### 품질 기준

- 모든 Epic에 Epic 1과 동일한 품질 기준 적용
- Hexagonal Architecture 유지
- NO Lombok
- 테스트 커버리지 목표 달성