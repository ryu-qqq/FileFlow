# FILEFLOW - S3 Bucket

Generated by Infrastructure Wizard on 2025-10-27 17:59:13

## Overview

S3 bucket for fileflow with encryption, versioning, and lifecycle policies.

## Resources Created

- S3 bucket: `fileflow--prod`
- KMS key for encryption
- CloudWatch log group for access logs
- Versioning enabled- Lifecycle policies configured- SSM parameters for bucket information

## Configuration

- **Purpose**: 
- **Environment**: prod
- **Region**: ap-northeast-2
- **Encryption**: KMS (customer-managed key)
- **Public Access**: Blocked- **Versioning**: Enabled- **Lifecycle**: Enabled (30d ‚Üí IA, 90d ‚Üí Glacier, 180d ‚Üí Deep Archive)
## Security Features

- üîí KMS encryption with customer-managed keys
- üö´ TLS enforcement (HTTPS only)
- üõ°Ô∏è Deny unencrypted uploads
- üîê Block public access (default)
- üìù CloudWatch logging

## Lifecycle Policy

- **30 days**: Transition to Standard-IA
- **90 days**: Transition to Glacier Instant Retrieval
- **180 days**: Transition to Deep Archive
- **Old versions**: Expire after 90 days
- **Incomplete uploads**: Delete after 7 days

## Usage

### Upload File

```bash
aws s3 cp file.txt s3://fileflow--prod/
```

### List Objects

```bash
aws s3 ls s3://fileflow--prod/
```

### Download File

```bash
aws s3 cp s3://fileflow--prod/file.txt ./
```

### Sync Directory

```bash
aws s3 sync ./local-dir s3://fileflow--prod/remote-dir/
```

## SSM Parameters

Bucket information is stored in SSM Parameter Store:

- `/fileflow/prod/s3/bucket-name`: Bucket name
- `/fileflow/prod/s3/bucket-arn`: Bucket ARN
- `/fileflow/prod/s3/kms-key-id`: KMS key ID

### Retrieve Parameters

```bash
aws ssm get-parameter --name "/fileflow/prod/s3/bucket-name" --query "Parameter.Value" --output text
```

## Deployment

1. Initialize Terraform: `terraform init`
2. Plan changes: `terraform plan`
3. Apply: `terraform apply`

## Monitoring

CloudWatch log group: `/aws/s3/fileflow--prod`

View logs:

```bash
aws logs tail /aws/s3/fileflow--prod --follow
```

---

ü§ñ Generated with Infrastructure Wizard
